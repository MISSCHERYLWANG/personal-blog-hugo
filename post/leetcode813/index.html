<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>813. Largest Sum of Averages-最大的平均数之和 - Jingxi&#39;s personal blog.</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="jingxi" /><meta name="description" content="问题描述 We partition a row of numbers A into at most K adjacent (non-empty) groups, then our score is the sum of the average of each group. What is the largest score we can achieve? Note that our partition must use every number in A, and that scores are not necessarily integers. Example: Input: A = [9,1,2,3,9] K = 3 Output: 20 这道题目求" /><meta name="keywords" content="Hugo, blog" />






<meta name="generator" content="Hugo 0.71.1 with theme even" />


<link rel="canonical" href="https://misscherylwang.github.io/post/leetcode813/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.8c3cbcb0324c2bb4875ceccba4007cbad4b4ac8377f33af9953c3e7684534a50.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="813. Largest Sum of Averages-最大的平均数之和" />
<meta property="og:description" content="问题描述 We partition a row of numbers A into at most K adjacent (non-empty) groups, then our score is the sum of the average of each group. What is the largest score we can achieve? Note that our partition must use every number in A, and that scores are not necessarily integers. Example: Input: A = [9,1,2,3,9] K = 3 Output: 20 这道题目求" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://misscherylwang.github.io/post/leetcode813/" />
<meta property="article:published_time" content="2020-06-10T17:41:18+08:00" />
<meta property="article:modified_time" content="2020-06-10T17:41:18+08:00" />
<meta itemprop="name" content="813. Largest Sum of Averages-最大的平均数之和">
<meta itemprop="description" content="问题描述 We partition a row of numbers A into at most K adjacent (non-empty) groups, then our score is the sum of the average of each group. What is the largest score we can achieve? Note that our partition must use every number in A, and that scores are not necessarily integers. Example: Input: A = [9,1,2,3,9] K = 3 Output: 20 这道题目求">
<meta itemprop="datePublished" content="2020-06-10T17:41:18&#43;08:00" />
<meta itemprop="dateModified" content="2020-06-10T17:41:18&#43;08:00" />
<meta itemprop="wordCount" content="739">



<meta itemprop="keywords" content="LeetCode,动态规划," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="813. Largest Sum of Averages-最大的平均数之和"/>
<meta name="twitter:description" content="问题描述 We partition a row of numbers A into at most K adjacent (non-empty) groups, then our score is the sum of the average of each group. What is the largest score we can achieve? Note that our partition must use every number in A, and that scores are not necessarily integers. Example: Input: A = [9,1,2,3,9] K = 3 Output: 20 这道题目求"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Jingxi&#39;s blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Jingxi&#39;s blog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">813. Largest Sum of Averages-最大的平均数之和</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-06-10 </span>
        <div class="post-category">
            <a href="/categories/leetcode/"> LeetCode </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#问题描述">问题描述</a></li>
    <li><a href="#解法">解法</a>
      <ul>
        <li><a href="#举例分析">举例分析</a></li>
        <li><a href="#复杂度分析">复杂度分析</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="问题描述">问题描述</h2>
<blockquote>
<p>We partition a row of numbers A into at most K adjacent (non-empty) groups, then our score is the sum of the average of each group. What is the largest score we can achieve?</p>
<p>Note that our partition must use every number in A, and that scores are not necessarily integers.</p>
<blockquote>
<p><strong>Example:</strong></p>
<p><strong>Input:</strong></p>
<p>A = [9,1,2,3,9]</p>
<p>K = 3</p>
<p><strong>Output:</strong> 20</p>
</blockquote>
</blockquote>
<p>这道题目求解将一个数组最多分割为K个非空子数组后，求每个子数组的平均值之和的最大值。栗子中最佳选择是将数组分为<code>[9], [1,2,3], [9]</code>，结果为$9 / 1 + (1 + 2 + 3) / 3 + 9 / 1 = 20$。因此可以分析出将数组的分割次数从<code>0-(k-1)</code>所计算得到的最大的平均数之和，用<code>k</code>代表分割的次数，用<code>n</code>代表数组的大小。</p>
<h2 id="解法">解法</h2>
<p>因为<code>K</code>的个数不确定，如果<code>K</code>的个数太大，我们就不能通过遍历<code>K</code>来确定<code>K</code>个子数组时的情况，所以不能采用暴力的方法去遍历数组。首先，设置一个数组<code>sum[i]</code>,其大小为<code>n+1</code>，来存储<code>A[0]-A[i]</code>的和。这样<code>i-j</code>的平均数为<code>(sum[j]-sum[i])/(j-i)</code>，便于得到平均数。</p>
<table>
<thead>
<tr>
<th align="center">index</th>
<th align="center">0</th>
<th align="center">1</th>
<th align="center">2</th>
<th align="center">3</th>
<th align="center">4</th>
<th align="center">5</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">A</td>
<td align="center">9</td>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">9</td>
<td></td>
</tr>
<tr>
<td align="center">sum</td>
<td align="center">0</td>
<td align="center">9</td>
<td align="center">10</td>
<td align="center">12</td>
<td align="center">15</td>
<td align="center">24</td>
</tr>
</tbody>
</table>
<p>参考官方题解，可以用动态规划解决。利用一个二维数组<code>dp[i][k]</code>，它代表分割<code>k</code>次下标范围为<code>i-n</code>的数组的最大的平均数之和。<code>dp[i][0]</code>为分割0次的最大值，如下所示。</p>
<table>
<thead>
<tr>
<th align="center">index</th>
<th align="center">0</th>
<th align="center">1</th>
<th align="center">2</th>
<th align="center">3</th>
<th align="center">4</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">dp[i][0]</td>
<td align="center">4.8</td>
<td align="center">3.75</td>
<td align="center">4.67</td>
<td align="center">6.0</td>
<td align="center">9.0</td>
</tr>
</tbody>
</table>
<h3 id="举例分析">举例分析</h3>
<p>当<code>k=1</code>时，也就是将数组分为两部分，那么从0开始遍历数组来求<code>dp[i][1]</code>的值，然后内层循环利用<code>j</code>从<code>i+1</code>开始遍历数组得到最大值，即<code>dp[i][1]=max(dp[i][1], avg(dp[i,...,j])+dp[j+1][k-1])</code>。
从中可以发现，每次计算时只依赖于<code>k-1</code>次时的dp值，因此可以使用一个一维数组<code>dp[i]</code>，每个k值i从0开始遍历数组dp，从而更新。动态方程为<code>dp[i] = max(dp[i], avg(dp[i,...,j])+dp[j+1])</code>。</p>
<h3 id="复杂度分析">复杂度分析</h3>
<p>每个k中，复杂度为$O(n^2)$，因此该算法的复杂度为$O(K*n^2)$。</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">jingxi</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2020-06-10
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/leetcode/">LeetCode</a>
          <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/leetcode1481/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">1481. Least Number of Unique Integers after K Removals-K清除后的不同元素的最小个数</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="wangyy017@163.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/MISSCHERYLWANG" class="iconfont icon-github" title="github"></a>
  <a href="https://misscherylwang.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">jingxi</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"  integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>








</body>
</html>
